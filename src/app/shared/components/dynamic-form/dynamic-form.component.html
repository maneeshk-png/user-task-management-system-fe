
<form [formGroup]="form" (ngSubmit)="onSubmit()">
  <div *ngFor="let field of fields" class="form-group">
    <label>{{ field.label }}</label>

    <!-- Input field for text and password types -->
    <input *ngIf="field.type==='text'||field.type==='password'" 
           [type]="field.type" 
           [formControlName]="field.name" 
           [placeholder]="field.placeholder||''" />
    <!-- Textarea field -->
    <textarea *ngIf="field.type==='textarea'" [formControlName]="field.name"></textarea>
    <!-- Select field -->
    <select *ngIf="field.type==='select'" [formControlName]="field.name">
      <option *ngFor="let opt of field.options" [value]="opt.value">{{ opt.label }}</option>
    </select>
    <!-- Error message -->
    <div class="error" *ngIf="isInvalid(field)">
      {{ field.label }} is required
    </div>
  </div>

  <!-- Submit button -->
  <app-button type="submit" [disabled]="loading" [label]="loading ? 'Processing...' : submitLabel"></app-button>
</form>
